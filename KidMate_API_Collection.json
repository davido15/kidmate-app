{
	"info": {
		"_postman_id": "kidmate-api-collection",
		"name": "KidMate API Collection",
		"description": "Complete API collection for KidMate mobile app and admin dashboard",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "User Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test22@gmail.com\",\n  \"password\": \"password\"\n}"
						},
						"description": "Login with user credentials. Returns token and user info. Copy the token to use in other requests.",
						"url": {
							"raw": "{{base_url}}/api/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "User Registration",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"phone\": \"+1234567890\",\n  \"password\": \"password123\",\n  \"role\": \"parent\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User Info",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"me"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Children & Parent Data",
			"item": [
				{
					"name": "Get Children",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/get-children",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"get-children"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Child Attendance",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/get-child-attendance/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"get-child-attendance",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Child Grades",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/get-child-grades/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"get-child-grades",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Child Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/get-child-summary/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"get-child-summary",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin Endpoints",
			"item": [
				{
					"name": "Get Unlinked Parents",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/get-unlinked-parents",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"get-unlinked-parents"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/get-users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"get-users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Link Parent to User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"parent_id\": 1,\n  \"user_email\": \"test22@gmail.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/link-parent-to-user",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"link-parent-to-user"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Parent",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jane Smith\",\n  \"phone\": \"+1234567890\",\n  \"address\": \"123 Main St\",\n  \"occupation\": \"Teacher\",\n  \"relationship\": \"Mother\",\n  \"user_email\": \"jane.smith@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/add-parent",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"add-parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Kid",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Alice Smith\",\n  \"age\": 8,\n  \"grade\": \"Grade 3\",\n  \"school\": \"Elementary School\",\n  \"parent_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/add-kid",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"add-kid"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Pickup Management",
			"item": [
				{
					"name": "Assign Pickup",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"kid_id\": 1,\n  \"pickup_person_id\": \"PICKUP001\",\n  \"pickup_person_name\": \"John Doe\",\n  \"pickup_time\": \"15:30:00\",\n  \"pickup_date\": \"2024-01-15\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/assign-pickup",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"assign-pickup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Scan Pickup",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pickup_id\": \"PICKUP001\",\n  \"scanned_at\": \"2024-01-15T15:30:00Z\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/scan-pickup",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"scan-pickup"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Journey & Status",
			"item": [
				{
					"name": "Create Journey",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pickup_person_id\": \"test-uuid-001\",\n  \"child_id\": 1,\n  \"dropoff_location\": \"123 Main Street\",\n  \"dropoff_latitude\": 40.7128,\n  \"dropoff_longitude\": -74.0060\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/create-journey",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"create-journey"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Journeys",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/get_all_journeys",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get_all_journeys"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User Journeys",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/get_user_journeys",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get_user_journeys"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Journey Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/get-journey-details/YOUR_PICKUP_ID",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"get-journey-details",
								"YOUR_PICKUP_ID"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/get_status?pickup_id=YOUR_PICKUP_ID",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get_status"
							],
							"query": [
								{
									"key": "pickup_id",
									"value": "YOUR_PICKUP_ID"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Status - Started to Departed",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pickup_id\": \"YOUR_PICKUP_ID\",\n  \"parent_id\": \"YOUR_PARENT_ID\",\n  \"child_id\": \"YOUR_CHILD_ID\",\n  \"pickup_person_id\": \"YOUR_PICKUP_PERSON_ID\",\n  \"status\": \"departed\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/update_status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update_status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Status - Departed to Picked (School Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pickup_id\": \"YOUR_PICKUP_ID\",\n  \"parent_id\": \"YOUR_PARENT_ID\",\n  \"child_id\": \"YOUR_CHILD_ID\",\n  \"pickup_person_id\": \"YOUR_PICKUP_PERSON_ID\",\n  \"status\": \"picked\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/update_status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update_status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Status - Picked to Arrived (Parent)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pickup_id\": \"YOUR_PICKUP_ID\",\n  \"parent_id\": \"YOUR_PARENT_ID\",\n  \"child_id\": \"YOUR_CHILD_ID\",\n  \"pickup_person_id\": \"YOUR_PICKUP_PERSON_ID\",\n  \"status\": \"arrived\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/update_status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update_status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Status - Arrived to Completed (Parent)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pickup_id\": \"YOUR_PICKUP_ID\",\n  \"parent_id\": \"YOUR_PARENT_ID\",\n  \"child_id\": \"YOUR_CHILD_ID\",\n  \"pickup_person_id\": \"YOUR_PICKUP_PERSON_ID\",\n  \"status\": \"completed\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/update_status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update_status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Record Departure (Alternative)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pickup_id\": \"YOUR_PICKUP_ID\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/record-departure",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"record-departure"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Get Payments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/get_payments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get_payments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Dummy Payments",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": 1,\n  \"amount\": 50.00,\n  \"description\": \"Monthly fee\",\n  \"status\": \"paid\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/add_dummy_payments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"add_dummy_payments"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://bbb0378359cd.ngrok-free.app",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	]
} 